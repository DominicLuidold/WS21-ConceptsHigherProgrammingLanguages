\documentclass[a4paper,12pt,twoside]{scrreprt}
% Autor der Vorlage: Klaus Rheinberger, FH Vorarlberg, 2017-02-20

% Pakete:
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc} % Silbentrennung bei Sonderzeichen
\usepackage{graphicx} % Bilder einbinden
\usepackage{wrapfig} % Bilder positionieren
\usepackage[english]{babel} 
\usepackage{minted} % Code Highlighting/Import
\usepackage{csquotes} % Anführungszeichen und Zitieren
\usepackage[bindingoffset=8mm]{geometry} % Bindeverlust von 8mm einbeziehen
\usepackage{caption} % Abbildungslegenden
\usepackage{setspace} % Zeilenabstand
\usepackage[style=alphabetic,citestyle=alphabetic,backend=biber]{biblatex} % Literaturverweise
\usepackage[
    linktocpage=true,
    pdfauthor={Dominik Böckle & Dominic Luidold},
    pdftitle={Translating the concepts of Haskell into the object-oriented programming language Java}
]{hyperref} % Links
\usepackage{acronym} 
\usepackage{eurosym}

% Einstellungen:
\captionsetup{format=hang, justification=raggedright}
\addbibresource{Sources.bib}
\setcounter{secnumdepth}{4}
\renewcommand{\listingscaption}{Sourcecode}
 \renewcommand\listoflistingscaption{Sourcecode}

% Dokumentenbeginn
\begin{document}
\onehalfspacing % Zeilenabstand 1,5

% Titelblatt:
% \newpage\mbox{}\newpage
\pagenumbering{Roman}
\cleardoublepage % force output to a right page
\thispagestyle{empty}
\begin{titlepage}
    \begin{flushright}
    \includegraphics[width=0.4\linewidth]{Logo-A3.jpg}
    \end{flushright}
    \begin{flushleft}
    \vspace{0.5cm}
    \section*{Translating the concepts of Haskell into the object-oriented programming language Java}
    \subsection*{Written Elaboration}

    \vspace{4cm}
    Vorarlberg University of Applied Sciences\newline
    Computer Science MSc

    \vspace{0.5cm}

    Supervised by\newline
    Jonathan Thaler, Ph.D

    \vspace{0.5cm}

    Submitted by\newline
    Dominik Böckle,\newline
    Dominic Luidold\newline\newline
    Dornbirn, January 2022
    \end{flushleft}
\end{titlepage}

% Inhaltsverzeichnis:
\cleardoublepage % force output to a right page
\setcounter{tocdepth}{2}
\pdfbookmark{\contentsname}{toc}
\tableofcontents

% Abkürzungsverzeichnis:
\clearpage
\phantomsection
\addcontentsline{toc}{chapter}{List of Abbreviations}
\chapter*{List of Abbreviations}
\begin{acronym}
  \acro{ADT}{Algebraic Data Types}
  \acro{OOP}{Object-oriented programming}
\end{acronym}

\cleardoublepage
\pagenumbering{arabic}
\chapter{Introduction}
This written elaboration contains various concepts of functional programming that are covered in the lecture "Concepts of Higher Programming Languages" in the first semester Master of Science at the Vorarlberg University of Applied Sciences. The concepts and patterns covered in this course are implemented in this paper using the \ac{OOP} language Java. Each implementation is complemented by a short explanation.

In addition, a \texttt{StateMonad} is implemented in Java and an example of how to use the Monad implemnetation is provided.

\chapter{Implementation of the various concepts}
This chapter covers the implementation of eight functional programming concepts and their respective \acs{OOP} counterparts written in Java. The concepts and patterns are each accompanied by a brief explanation as well as a working Java example.

\section{Immutable Data}
Immutable Data is a principle that states that once data has been created, it subsequently cannot be changed. In general, data and objects should only be mutable if there is a valid reason for doing so.

\begin{listing}[ht]
    \inputminted[fontsize=\footnotesize,linenos]{java}{./code/ImmutableIntegerPair.java}
    \caption[Example of an immutable data structure]{Example of an immutable data structure}
    \label{code:immutable}
\end{listing}

\emph{Sourcecode \ref{code:immutable}} on page \pageref{code:immutable} shows how an immutable data structure may look. The variables \texttt{x} and \texttt{y}, which contain the data, can no longer be modified after the value has initially been set as a result of the \texttt{final} keyword. Additionally, the variables cannot be changed from outside the class as there are no setters present.

There is, however, still a possibility to make the data structure mutable: Extending the \texttt{ImmutableIntegerPair} allows one to extend the functionality of the data structure and store mutable data. To prevent this, the keyword \texttt{final} can be used again, this time at class level as opposed to variable level.

\medskip

Furthermore, there are also ways to make lists immutable when the list data type is the preferred/required way of storing data. Java itself provides a static method \texttt{Collections::unmodifiableList()} which prevents the data from being modified. However, the data type that is stored in the list must also be immutable to achieve immutability.

\section{Type Variables}
For the area of type variables there is the possibility of generic programming in Java. Here one can restrict like with Haskell which types are permitted. This restriction can be made in Java by interfaces or classes and write for example <? extends Integer>.
\section{Higher-Order Functions}
A higher order function is a function that takes a function as an argument or returns a function. This is possible since Java 8. \emph{Sourcecode \ref{code:higherordered}} shows an example code where the method camelize turns the first characters of a string into a capital letter. In this method you can also see the use of lambdas which will be explained in more detail in one of the following sections
\begin{listing}[ht]
    \inputminted[fontsize=\footnotesize,linenos,breaklines]{java}{./code/HigherOrderFunctions.java}
    \caption[Example for Higher Order Function]{Example for Higher Order Function}
    \label{code:higherordered}
\end{listing}
\clearpage

\section{Lambda Expressions}
\begin{listing}[ht]
    \inputminted[fontsize=\footnotesize,linenos]{java}{./code/Lambda.java}
    \caption[Example for Lambda]{Example for Lambda Expressions.}
    \label{code:Lambda}
\end{listing}
With the method listLambdas in \emph{Sourcecode \ref{code:Lambda}} you can see how with a lambda function the values of the list are increased by 1. In the past, anonymous classes often had to be used instead of lambdas in Java, but this has been curbed somewhat with Java 8 and the lambdas and usually makes the code more readable.
\clearpage
\section{Currying}
Currying is the conversion of a function with multiple arguments into a sequence of functions with one argument each. \emph{Sourcecode \ref{code:Currying}} is inspired by \cite{Robertson_currying_2018} in which multiplication was done by currying. This is emulated with the function multcurry where the multiplications can be strung together.
\begin{listing}[ht]
    \inputminted[fontsize=\footnotesize,linenos]{java}{./code/Currying.java}
    \caption[Example for Currying]{Example for multiplication with Currying.}
    \label{code:Currying}
\end{listing}
\clearpage

\section{Function Composition and Streaming}
\subsection{Function Composition}
Function composition is the combination of two functions into a new function. You simply take the output of the first function and use it as input for the second function. To be able to demonstrate this in \emph{Sourcecode \ref{code:Compose}} the functions doubleing and remove1 were expressed by means of Lambda and used for an example. Here it is remarkable that with .compose(<function>) the function is put in front and with andThen(<function>) the function is put after.
\begin{listing}[ht]
    \inputminted[fontsize=\footnotesize,linenos,breaklines]{java}{./code/FunctionComposition.java}
    \caption[Example for Function Composition]{Example for Function Composition and that order can be Important.}
    \label{code:Compose}
\end{listing}
\clearpage

\subsection{Streaming}
A stream represents a sequence of objects that can be accessed in sequential order.
One of the better known streams in Java is probably the filestream this is used in \emph{Sourcecode \ref{code:Streaming}}.
\begin{listing}[ht]
    \inputminted[fontsize=\footnotesize,linenos]{java}{./code/Streaming.java}
    \caption[Example for Streaming]{Example for Streaming.}
    \label{code:Streaming}
\end{listing}
\clearpage
\section{Algebraic Data Types}
An \ac{ADT} consists of several variants or flavors, similar to a Java enum, but the different flavors can have different properties or methods.

To summarize again what we expect from an \ac{ADT}:
The expressions have different numbers and types of properties and methods.
At compile time it is checked that all expressions are also considered.

Unfortunately, Java does not support ADT from scratch, so we have to implement this ourselves. For this, as described in \cite{MAINIERO_algebraic_2020}, the design patterns Visitor and Sealed Class are helpful. In Java 15 the sealed class should be automatically integrated but in Sorce code it was still implemented manually without the sealed keyword.

\emph{Sourcecode \ref{code:ADT}} shows a Java implementation of the Alive or Date State from the lecture notes \footnote{ lecture notes: https://homepages.fhv.at/thjo/lecturenotes/concepts/declaring-types.html\#algebraic-data-types-1 visited on 2022/01/06}.
\begin{listing}[ht]
    \inputminted[fontsize=\footnotesize,linenos]{java}{./code/ADT.java}
    \caption[Example for a \ac{ADT}]{Dead or Alive Example to demonstrate \ac{ADT}.}
    \label{code:ADT}
\end{listing}
\clearpage


\section{Pure and Impure Side Effects}
Pure: Side effects are effects which are influenced by the Pure calculation and are always deterministic because they do not communicate with the outside world. \emph{Sourcecode \ref{code:Effects}} shows the change of the "State" in the method Pure.
\newline
Impure: are all effects which interact with the outside world this is declared in \emph{Sourcecode \ref{code:Effects}} with the method Impure which waits for a user action
\begin{listing}[ht]
    \inputminted[fontsize=\footnotesize,linenos]{java}{./code/SideEffects.java}
    \caption[Example for Side Effects]{Example for Side Effects.}
    \label{code:Effects}
\end{listing}
\clearpage

% Literaturverzeichnis:
\clearpage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliography}
\printbibliography

\end{document}
